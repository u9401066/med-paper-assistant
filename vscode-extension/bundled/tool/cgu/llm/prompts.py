"""
CGU Prompts

å‰µæ„æ–¹æ³•çš„æç¤ºè©æ¨¡æ¿
"""

# === ç³»çµ±æç¤º ===

SYSTEM_PROMPT_CREATIVITY = """ä½ æ˜¯ä¸€å€‹å‰µæ„ç™¼æƒ³å°ˆå®¶ï¼Œæ“…é•·ä½¿ç”¨å„ç¨®å‰µæ„æ–¹æ³•å¹«åŠ©äººå€‘ç”¢ç”Ÿæ–°é»å­ã€‚

ä½ çš„ç‰¹é»ï¼š
1. å–„æ–¼å¾ä¸åŒè§’åº¦æ€è€ƒå•é¡Œ
2. èƒ½å¤ é€£çµçœ‹ä¼¼ä¸ç›¸é—œçš„æ¦‚å¿µ
3. ç”¢ç”Ÿçš„é»å­æ—¢æœ‰å‰µæ„åˆæœ‰å¯è¡Œæ€§
4. ä½¿ç”¨çµæ§‹åŒ–çš„æ–¹æ³•é€²è¡Œç™¼æƒ³

è«‹ç”¨ç¹é«”ä¸­æ–‡å›ç­”ã€‚"""

SYSTEM_PROMPT_ANALYSIS = """ä½ æ˜¯ä¸€å€‹åˆ†æå°ˆå®¶ï¼Œæ“…é•·æ‹†è§£å•é¡Œçµæ§‹ä¸¦æ‰¾å‡ºé—œéµæ´å¯Ÿã€‚

ä½ çš„ç‰¹é»ï¼š
1. ç³»çµ±åŒ–æ€è€ƒ
2. èƒ½å¤ è­˜åˆ¥æ¨¡å¼å’Œè¦å¾‹
3. å¾å¤šå€‹ç¶­åº¦åˆ†æå•é¡Œ
4. æä¾›æœ‰æ·±åº¦çš„è¦‹è§£

è«‹ç”¨ç¹é«”ä¸­æ–‡å›ç­”ã€‚"""

SYSTEM_PROMPT_EVALUATION = """ä½ æ˜¯ä¸€å€‹è©•ä¼°å°ˆå®¶ï¼Œæ“…é•·åˆ¤æ–·é»å­çš„å“è³ªå’Œå¯è¡Œæ€§ã€‚

ä½ çš„ç‰¹é»ï¼š
1. å®¢è§€å…¬æ­£çš„è©•ä¼°
2. å¤šç¶­åº¦çš„è©•åˆ†æ¨™æº–
3. å»ºè¨­æ€§çš„æ”¹é€²å»ºè­°
4. èƒ½å¤ è­˜åˆ¥æœ€æœ‰æ½›åŠ›çš„æ–¹å‘

è«‹ç”¨ç¹é«”ä¸­æ–‡å›ç­”ã€‚"""


# === è¯æƒ³æç¤º ===

PROMPT_ASSOCIATE = """åŸºæ–¼ä»¥ä¸‹æ¦‚å¿µï¼Œç”¢ç”Ÿç›¸é—œè¯æƒ³ï¼š

æ¦‚å¿µï¼š{concept}
æ–¹å‘ï¼š{direction}

è«‹ç”¢ç”Ÿ {count} å€‹è¯æƒ³ï¼ŒåŒ…æ‹¬ï¼š
- ç›¸é—œçš„æ¦‚å¿µ
- èˆ‡åŸæ¦‚å¿µçš„é—œä¿‚
- é—œè¯å¼·åº¦ (0-1)

è¯æƒ³æ–¹å‘èªªæ˜ï¼š
- similar: ç›¸ä¼¼çš„æ¦‚å¿µ
- opposite: ç›¸åæˆ–å°æ¯”çš„æ¦‚å¿µ
- cross-domain: è·¨é ˜åŸŸçš„æ¦‚å¿µ
- random: è¼ƒé ä½†æœ‰æ½›åŠ›çš„é€£çµ"""

PROMPT_ASSOCIATE_SIMPLE = """ä¸»é¡Œï¼š{topic}
ç¾æœ‰è¯æƒ³ï¼š{existing}

è«‹åˆ—å‡º 5 å€‹èˆ‡æ­¤ä¸»é¡Œç›¸é—œçš„æ–°è¯æƒ³ï¼Œå¾å¼·é—œè¯åˆ°å¼±é—œè¯æ’åˆ—ã€‚
é¿å…é‡è¤‡å·²æœ‰çš„è¯æƒ³ã€‚"""


# === SCAMPER æç¤º ===

PROMPT_SCAMPER = """ä½¿ç”¨ SCAMPER æ–¹æ³•å°ä»¥ä¸‹ä¸»é¡Œé€²è¡Œå‰µæ„è®Šå½¢ï¼š

ä¸»é¡Œï¼š{topic}

è«‹é‡å°æ¯å€‹å­—æ¯æå‡ºä¸€å€‹å‰µæ„è®Šå½¢ï¼š
- S (Substitute æ›¿ä»£): ä»€éº¼å¯ä»¥æ›¿ä»£ï¼Ÿ
- C (Combine çµåˆ): å¯ä»¥èˆ‡ä»€éº¼çµåˆï¼Ÿ
- A (Adapt èª¿é©): å¯ä»¥å¾å“ªè£¡å€Ÿé‘‘ï¼Ÿ
- M (Modify ä¿®æ”¹): å¯ä»¥æ”¾å¤§/ç¸®å°ä»€éº¼ï¼Ÿ
- P (Put to other uses ä»–ç”¨): é‚„èƒ½ç”¨åœ¨å“ªè£¡ï¼Ÿ
- E (Eliminate æ¶ˆé™¤): å¯ä»¥å»æ‰ä»€éº¼ï¼Ÿ
- R (Reverse é‡æ’): å¯ä»¥é¡›å€’ä»€éº¼ï¼Ÿ

æœ€å¾Œé¸å‡ºæœ€æœ‰æ½›åŠ›çš„ä¸€å€‹è®Šå½¢é»å­ã€‚"""


# === å…­é ‚æ€è€ƒå¸½æç¤º ===

PROMPT_SIX_HATS = """ä½¿ç”¨å…­é ‚æ€è€ƒå¸½æ–¹æ³•åˆ†æä»¥ä¸‹ä¸»é¡Œï¼š

ä¸»é¡Œï¼š{topic}

è«‹å¾å…­å€‹è§’åº¦åˆ†æï¼š
- ğŸ© ç™½å¸½ (äº‹å¯¦): æœ‰å“ªäº›å®¢è§€äº‹å¯¦å’Œæ•¸æ“šï¼Ÿ
- ğŸ© ç´…å¸½ (æƒ…æ„Ÿ): ä½ çš„ç›´è¦ºå’Œæƒ…ç·’åæ‡‰æ˜¯ä»€éº¼ï¼Ÿ
- ğŸ© é»‘å¸½ (æ‰¹åˆ¤): æœ‰ä»€éº¼é¢¨éšªå’Œå•é¡Œï¼Ÿ
- ğŸ© é»ƒå¸½ (æ¨‚è§€): æœ‰ä»€éº¼å¥½è™•å’Œåƒ¹å€¼ï¼Ÿ
- ğŸ© ç¶ å¸½ (å‰µæ„): æœ‰ä»€éº¼æ–°é»å­ï¼Ÿ
- ğŸ© è—å¸½ (çµ±ç±Œ): ç¸½çµå’Œä¸‹ä¸€æ­¥æ˜¯ä»€éº¼ï¼Ÿ"""


# === ä¹å®®æ ¼æç¤º ===

PROMPT_MANDALA = """ä½¿ç”¨æ›¼é™€ç¾…ä¹å®®æ ¼æ–¹æ³•æ“´å±•ä»¥ä¸‹æ¦‚å¿µï¼š

ä¸­å¿ƒæ¦‚å¿µï¼š{concept}

è«‹ç”¢ç”Ÿ 8 å€‹ç›¸é—œçš„å»¶ä¼¸æ¦‚å¿µï¼Œå¡«æ»¿ä¹å®®æ ¼çš„ 8 å€‹æ–¹å‘ï¼š
- ä¸Šã€å³ä¸Šã€å³ã€å³ä¸‹ã€ä¸‹ã€å·¦ä¸‹ã€å·¦ã€å·¦ä¸Š

æ¯å€‹å»¶ä¼¸æ‡‰è©²ï¼š
- èˆ‡ä¸­å¿ƒæ¦‚å¿µç›¸é—œä½†ä¸é‡è¤‡
- å¯ä»¥é€²ä¸€æ­¥å±•é–‹æˆæ–°çš„ä¹å®®æ ¼
- æ¶µè“‹ä¸åŒçš„é¢å‘"""


# === å¿ƒæ™ºåœ–æç¤º ===

PROMPT_MIND_MAP = """ä½¿ç”¨å¿ƒæ™ºåœ–æ–¹æ³•æ“´å±•ä»¥ä¸‹ä¸»é¡Œï¼š

ä¸­å¿ƒä¸»é¡Œï¼š{topic}

è«‹ç”¢ç”Ÿ {branches} å€‹ä¸»è¦åˆ†æ”¯ï¼Œæ¯å€‹åˆ†æ”¯åŒ…å« {sub_branches} å€‹å­åˆ†æ”¯ã€‚

ä¸»è¦åˆ†æ”¯æ‡‰è©²æ¶µè“‹ä¸»é¡Œçš„ä¸åŒé¢å‘ï¼ˆå¦‚ï¼šåŠŸèƒ½ã€ç”¨æˆ¶ã€æŠ€è¡“ã€æƒ…æ„Ÿã€åƒ¹å€¼ç­‰ï¼‰ã€‚"""


# === æ¦‚å¿µç¢°æ’æç¤º ===

PROMPT_SPARK = """è®“ä»¥ä¸‹å…©å€‹æ¦‚å¿µç¢°æ’ç”¢ç”Ÿå‰µæ„ç«èŠ±ï¼š

æ¦‚å¿µ Aï¼š{concept_a}
æ¦‚å¿µ Bï¼š{concept_b}

è«‹æ€è€ƒï¼š
1. é€™å…©å€‹æ¦‚å¿µæœ‰ä»€éº¼å…±åŒé»ï¼Ÿ
2. å®ƒå€‘çš„å·®ç•°å¯ä»¥ç”¢ç”Ÿä»€éº¼æœ‰è¶£çš„çµ„åˆï¼Ÿ
3. çµåˆå¾Œå¯ä»¥å‰µé€ ä»€éº¼æ–°äº‹ç‰©ï¼Ÿ

ç”¢ç”Ÿ {count} å€‹å‰µæ„ç«èŠ±ï¼Œä¸¦é¸å‡ºæœ€æœ‰æ½›åŠ›çš„ä¸€å€‹ã€‚"""


# === é€†å‘æ€è€ƒæç¤º ===

PROMPT_REVERSE = """ä½¿ç”¨é€†å‘æ€è€ƒæ³•åˆ†æä»¥ä¸‹å•é¡Œï¼š

åŸå§‹å•é¡Œï¼š{problem}

æ­¥é©Ÿ 1ï¼šåå‘å•é¡Œ
- å¦‚æœè¦è®“é€™å€‹å•é¡Œæ›´ç³Ÿï¼Œè©²æ€éº¼åšï¼Ÿ
- å¦‚æœè¦ç¢ºä¿å¤±æ•—ï¼Œæœ‰å“ªäº›æ–¹æ³•ï¼Ÿ

æ­¥é©Ÿ 2ï¼šå¤±æ•—æ–¹æ³•
- åˆ—å‡º 5 å€‹æœƒå°è‡´å¤±æ•—çš„åšæ³•

æ­¥é©Ÿ 3ï¼šåè½‰è§£æ³•
- å°‡æ¯å€‹å¤±æ•—åšæ³•åè½‰ï¼Œè®Šæˆè§£æ±ºæ–¹æ¡ˆ"""


# === é»å­ç”Ÿæˆæç¤º ===

PROMPT_GENERATE_IDEAS = """ç‚ºä»¥ä¸‹ä¸»é¡Œç”¢ç”Ÿå‰µæ„é»å­ï¼š

ä¸»é¡Œï¼š{topic}
å‰µæ„å±¤ç´šï¼š{creativity_level}ï¼ˆ1=çµ„åˆ, 2=æ¢ç´¢, 3=è®Šé©ï¼‰
æ•¸é‡ï¼š{count} å€‹

{constraints_text}

è«‹ç”¢ç”Ÿå…·æœ‰ä»¥ä¸‹ç‰¹é»çš„é»å­ï¼š
- å±¤ç´š 1ï¼šå·²çŸ¥å…ƒç´ çš„æ–°çµ„åˆ
- å±¤ç´š 2ï¼šæ¢ç´¢é‚Šç•Œçš„å‰µæ–°
- å±¤ç´š 3ï¼šæ‰“ç ´è¦å‰‡çš„é¡›è¦†æ€§æƒ³æ³•

æ¯å€‹é»å­è«‹è©•ä¼°å…¶æ–°ç©åº¦å’Œå¯è¡Œæ€§ (0-1)ã€‚"""


# === åˆ†ææç¤º ===

PROMPT_ANALYZE = """æ·±å…¥åˆ†æä»¥ä¸‹ä¸»é¡Œï¼š

ä¸»é¡Œï¼š{topic}
å‰µæ„å±¤ç´šï¼š{creativity_level}

ç¾æœ‰é»å­ï¼š
{ideas}

è«‹æä¾›ï¼š
1. ä¸»é¡Œç†è§£ï¼šç°¡è¿°é€™å€‹ä¸»é¡Œçš„æ ¸å¿ƒæ˜¯ä»€éº¼
2. é—œéµç¶­åº¦ï¼ˆ3-5 å€‹ï¼‰ï¼šåˆ†æé€™å€‹ä¸»é¡Œçš„é‡è¦é¢å‘
3. ç¼ºå£è­˜åˆ¥ï¼ˆ2-3 å€‹ï¼‰ï¼šç¾æœ‰é»å­ç¼ºå°‘ä»€éº¼æ–¹å‘
4. å»ºè­°æ–¹å‘ï¼ˆ2-3 å€‹ï¼‰ï¼šå¾ŒçºŒå¯ä»¥æ¢ç´¢çš„æ–¹å‘"""


# === è©•ä¼°æç¤º ===

PROMPT_EVALUATE = """è©•ä¼°ä»¥ä¸‹å‰µæ„é»å­ï¼š

ä¸»é¡Œï¼š{topic}
å‰µæ„å±¤ç´šï¼š{creativity_level}

å¾…è©•ä¼°çš„é»å­ï¼š
{ideas}

è©•ä¼°æ¨™æº–ï¼š
- æ–°ç©åº¦ï¼šé»å­çš„å‰µæ–°ç¨‹åº¦
- å¯è¡Œæ€§ï¼šå¯¦ç¾çš„é›£æ˜“åº¦
- åƒ¹å€¼æ€§ï¼šæ½›åœ¨çš„åƒ¹å€¼å’Œå½±éŸ¿

è«‹ç‚ºæ¯å€‹é»å­è©•åˆ†ï¼Œä¸¦é¸å‡ºæœ€ä½³é»å­ã€‚"""


# === ç¶œåˆæç¤º ===

PROMPT_SYNTHESIZE = """æ•´åˆä»¥ä¸‹æ¦‚å¿µå’Œé»å­ï¼š

åŸå§‹ä¸»é¡Œï¼š{topic}

ç¾æœ‰é»å­ï¼š
{ideas_text}

è«‹ï¼š
1. æ‰¾å‡ºé»å­ä¹‹é–“çš„å…±åŒæ¨¡å¼
2. å˜—è©¦åˆä½µç›¸ä¼¼çš„é»å­
3. å‰µé€  2-3 å€‹æ•´åˆå¾Œçš„æ–°é»å­
4. è§£é‡‹æ•´åˆçš„é‚è¼¯"""


def format_constraints(constraints: list[str] | None) -> str:
    """æ ¼å¼åŒ–é™åˆ¶æ¢ä»¶"""
    if not constraints:
        return ""
    return "é™åˆ¶æ¢ä»¶ï¼š\n" + "\n".join(f"- {c}" for c in constraints)


def format_ideas_list(ideas: list) -> str:
    """æ ¼å¼åŒ–é»å­åˆ—è¡¨"""
    return "\n".join(
        f"{i + 1}. {idea.content if hasattr(idea, 'content') else idea}"
        for i, idea in enumerate(ideas)
    )
