---
name: code-reviewer
description: ç¨‹å¼ç¢¼å¯©æŸ¥ã€‚è§¸ç™¼ï¼šreviewã€å¯©æŸ¥ã€æª¢æŸ¥ã€çœ‹ä¸€ä¸‹ã€æœ‰æ²’æœ‰å•é¡Œã€å®‰å…¨ã€‚
---

# ç¨‹å¼ç¢¼å¯©æŸ¥æŠ€èƒ½

## è§¸ç™¼æ¢ä»¶

| ç”¨æˆ¶èªªæ³• | è§¸ç™¼ |
|----------|------|
| reviewã€å¯©æŸ¥ç¨‹å¼ç¢¼ | âœ… |
| æª¢æŸ¥ã€çœ‹ä¸€ä¸‹ | âœ… |
| æœ‰æ²’æœ‰å•é¡Œã€å®‰å…¨ | âœ… |

---

## å¯ç”¨å·¥å…·

| æ“ä½œ | å·¥å…· |
|------|------|
| è®€å–ç¨‹å¼ç¢¼ | `read_file()` |
| æœå°‹æ¨¡å¼ | `grep_search()` |
| å–å¾—éŒ¯èª¤ | `get_errors()` |
| åŸ·è¡Œ linter | `run_in_terminal("ruff check .")` |
| åŸ·è¡Œå‹åˆ¥æª¢æŸ¥ | `run_in_terminal("mypy .")` |

---

## å¯©æŸ¥é …ç›®

### 1. ç¨‹å¼ç¢¼å“è³ª

| é …ç›® | æª¢æŸ¥æ–¹å¼ |
|------|----------|
| å‡½æ•¸é•·åº¦ | `grep_search("def ")` + è¨ˆç®—è¡Œæ•¸ |
| å‘½åæ¸…æ™°åº¦ | äººå·¥å¯©æŸ¥ |
| DRY åŸå‰‡ | æœå°‹é‡è¤‡æ¨¡å¼ |
| è¤‡é›œåº¦ | å·¢ç‹€å±¤ç´šã€æ¢ä»¶åˆ†æ”¯æ•¸ |

### 2. å®‰å…¨æ€§

| é¢¨éšª | æª¢æŸ¥æ–¹å¼ |
|------|----------|
| SQL æ³¨å…¥ | `grep_search("execute.*%s|f\".*SELECT")` |
| XSS | `grep_search("innerHTML|dangerouslySetInnerHTML")` |
| æ•æ„Ÿè³‡æ–™ | `grep_search("password|secret|api_key")` |
| ç¡¬ç·¨ç¢¼å¯†ç¢¼ | `grep_search("password.*=.*['\"]")` |

### 3. æ•ˆèƒ½

| å•é¡Œ | æª¢æŸ¥æ–¹å¼ |
|------|----------|
| N+1 æŸ¥è©¢ | å¯©æŸ¥è¿´åœˆå…§çš„è³‡æ–™åº«å‘¼å« |
| ä¸å¿…è¦è¿´åœˆ | å¯©æŸ¥å¯ç”¨ list comprehension çš„åœ°æ–¹ |

---

## æ¨™æº–å·¥ä½œæµç¨‹

```python
# 1. åŸ·è¡Œéœæ…‹åˆ†æ
run_in_terminal("ruff check src/")
run_in_terminal("mypy src/")

# 2. å–å¾—ç·¨è¼¯å™¨éŒ¯èª¤
get_errors()

# 3. è®€å–ç›®æ¨™æª”æ¡ˆ
read_file("src/target_file.py")

# 4. æœå°‹å®‰å…¨é¢¨éšªæ¨¡å¼
grep_search(query="execute.*%s", isRegexp=True)
grep_search(query="password.*=.*['\"]", isRegexp=True)

# 5. å½™æ•´å ±å‘Š
```

---

## è¼¸å‡ºæ ¼å¼

```
## ğŸ” å¯©æŸ¥çµæœï¼šsrc/auth/login.py

### âœ… å„ªé»
- å‡½æ•¸åˆ‡åˆ†åˆç†
- éŒ¯èª¤è™•ç†å®Œæ•´

### âš ï¸ å»ºè­°æ”¹é€²

**[é«˜] SQL æ³¨å…¥é¢¨éšª**
- ä½ç½®ï¼šç¬¬ 45 è¡Œ
- å•é¡Œï¼šä½¿ç”¨å­—ä¸²æ ¼å¼åŒ–å»ºæ§‹ SQL
- å»ºè­°ï¼šä½¿ç”¨åƒæ•¸åŒ–æŸ¥è©¢

**[ä¸­] å‡½æ•¸éé•·**
- ä½ç½®ï¼šç¬¬ 20-85 è¡Œ `process_login()`
- å•é¡Œï¼š65 è¡Œè¶…éå»ºè­°çš„ 50 è¡Œ
- å»ºè­°ï¼šæ‹†åˆ†ç‚ºå¤šå€‹å­å‡½æ•¸

### ğŸ“Š è©•åˆ†
| é …ç›® | åˆ†æ•¸ |
|------|------|
| å“è³ª | 7/10 |
| å®‰å…¨ | 5/10 |
| æ•ˆèƒ½ | 8/10 |
```

---

## ç›¸é—œæŠ€èƒ½

- `ddd-architect` - æ¶æ§‹å±¤é¢å¯©æŸ¥
- `test-generator` - ç”Ÿæˆæ¸¬è©¦è¦†è“‹
- `code-refactor` - åŸ·è¡Œé‡æ§‹å»ºè­°
