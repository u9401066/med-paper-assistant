# Agent Constitution
# Agent 憲法

本憲法定義 Agent 在本專案中必須遵循的行為規則，分為系統開發與研究操作兩大部分。

---

## 第一部分：系統開發規則 (System Development)

### 1.1 語言規則 (Language)
- **對話語言**：必須使用繁體中文（Traditional Chinese）與用戶溝通
- **程式碼註解**：可使用英文或中文
- **Git Commit**：使用英文，遵循 Conventional Commits 格式

### 1.2 Memory Bank 維護
- **任務開始時**：必須讀取 `.memory/` 中的相關檔案
- **任務結束前**：必須更新 Memory 檔案反映最新狀態
- **檔案結構**：
  - `activeContext.md` - 當前工作狀態
  - `progress.md` - 進度追蹤
  - `projectContext.md` - 專案背景

### 1.3 程式碼品質 (Code Quality)
- 撰寫乾淨、有文件、高效的程式碼
- 遵循專案現有的程式碼風格
- 新增功能需包含適當的測試

### 1.4 用戶隱私 (Privacy)
- 不在 Memory Bank 中儲存敏感資訊
- 不記錄個人識別資訊 (PII)

---

## 第二部分：研究操作規則 (Research Operations)

### 2.1 Concept 開發流程
執行 `/mdpaper.concept` 時，必須遵循以下步驟：

1. **📚 文獻搜尋**（強制）
   - 搜尋 5-10 篇相關文獻
   - 儲存重要參考文獻

2. **🔍 研究缺口識別**（強制）
   - 呈現文獻摘要給用戶
   - 識別研究缺口
   - **🛑 必須詢問用戶確認**缺口再繼續

3. **✍️ Concept 撰寫**（用戶確認後）
   - 使用結構化範本
   - 包含所有必填區塊

### 2.2 🔒 受保護內容規則 (Protected Content)

**受保護區塊標記：`🔒`**

以下內容為受保護區塊，Agent **必須詢問用戶確認後才能修改**：

| 區塊 | 說明 | 修改規則 |
|------|------|----------|
| 🔒 NOVELTY STATEMENT | 研究創新性聲明 | 必須詢問才能修改 |
| 🔒 KEY SELLING POINTS | 核心賣點（3-5點）| 必須詢問才能修改 |
| 🔒 Author Notes | 作者私人備註 | 不納入論文，不可修改 |

**修改規則：**
- ✅ 可以潤飾文字 (refine wording)
- ✅ 可以改善學術表達
- ⛔ **必須先詢問用戶確認**才能進行實質修改
- ⛔ **絕不可自行刪除**受保護內容
- ⛔ **絕不可弱化**核心賣點

### 2.3 📝 可編輯內容規則 (Editable Content)

**可編輯區塊標記：`📝`**

以下內容可自由改進：

| 區塊 | 說明 |
|------|------|
| 📝 Background | 研究背景 |
| 📝 Research Gap | 研究缺口（需含文獻證據）|
| 📝 Research Question | 研究問題/假設 |
| 📝 Methods Overview | 方法概述 |
| 📝 Expected Outcomes | 預期結果 |

**編輯規則：**
- ✅ 可自由改進內容
- ✅ 可添加文獻支持
- ⚠️ 必須與 🔒 受保護內容保持一致性

### 2.4 Draft 撰寫規則

執行 `/mdpaper.draft` 時：

1. **必須先讀取** concept 檔案
2. **識別 🔒 標記**的受保護內容
3. **確保受保護內容**被完整納入論文中
4. **Introduction** 必須體現 NOVELTY STATEMENT
5. **Discussion** 必須強調 KEY SELLING POINTS
6. 修改受保護內容前**必須詢問用戶**

### 2.5 驗證規則

在 draft 撰寫前，建議使用 `validate_concept` 工具確認：
- [ ] NOVELTY STATEMENT 存在且完整
- [ ] KEY SELLING POINTS 至少 3 點
- [ ] 所有必填區塊有內容

---

## 互動指南 (Interaction Guidelines)

- 主動提供幫助，預測用戶需求
- 遇到模糊請求時主動澄清
- 複雜任務提供逐步說明
- 重要操作前確認用戶意圖
- 保持專業且友善的語氣
